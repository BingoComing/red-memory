<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>新中国史 - 红色网页设计大赛作品</title>
  <meta name="description" content="首页：新中国史主题站导航，轮播与成就卡片，快速进入各专题。">
  <link rel="icon" href="loge.jpg" type="image/jpeg">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="base.css">

</head>

<body>
  <!-- 页头 -->
  <header>
    <div class="header-container">
      <div class="logo">
        <img src="loge.jpg" alt="Logo">
        <h1>新中国发展史</h1>
      </div>
      <nav>
        <ul>
          <li><a href="index.html" class="active">首页</a></li>
          <li><a href="history.html">新中国史</a></li>
          <li><a href="heroes.html">伟人风采</a></li>
          <li><a href="hsjs.html">红色精神</a></li>
          <li><a href="gywm.html">联系我们</a></li>
        </ul>
      </nav>
      <div class="search-box">
        <input type="text" placeholder="搜索...">
        <button>搜索</button>
      </div>
    </div>
  </header>

  <div class="slideshow-container" role="region" aria-label="图片轮播" tabindex="0">

    <div class="slide">
      <img src="bj1.png" alt="图1" loading="lazy">
    </div>

    <div class="slide">
      <img src="bj2.jpg" alt="图2" loading="lazy">
    </div>

    <div class="slide">
      <img src="bj3.jpg" alt="图3" loading="lazy">
    </div>

    <div class="slide">
      <img src="bj4.jpg" alt="图4" loading="lazy">
    </div>

    <a class="prev" onclick="changeSlide(-1)">❮</a>
    <a class="next" onclick="changeSlide(1)">❯</a>
  </div>

  <div class="dots" aria-label="轮播指示点">
    <span class="dot" role="button" tabindex="0" aria-label="第1张" onclick="goToSlide(1)"
      onkeydown="if(event.key==='Enter'||event.key===' '){goToSlide(1)}"></span>
    <span class="dot" role="button" tabindex="0" aria-label="第2张" onclick="goToSlide(2)"
      onkeydown="if(event.key==='Enter'||event.key===' '){goToSlide(2)}"></span>
    <span class="dot" role="button" tabindex="0" aria-label="第3张" onclick="goToSlide(3)"
      onkeydown="if(event.key==='Enter'||event.key===' '){goToSlide(3)}"></span>
    <span class="dot" role="button" tabindex="0" aria-label="第4张" onclick="goToSlide(4)"
      onkeydown="if(event.key==='Enter'||event.key===' '){goToSlide(4)}"></span>
  </div>

  <script>
    let slideIndex = 0;
    let timer;

    // 初始化并开始自动播放
    showSlide(slideIndex);

    function showSlide(n) {
      const slides = document.getElementsByClassName("slide");
      const dots = document.getElementsByClassName("dot");

      // 如果超出范围则循环回第一张或最后一张
      if (n >= slides.length) { n = 0; }
      if (n < 0) { n = slides.length - 1; }
      slideIndex = n;

      // 隐藏所有图片
      for (let i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }

      // 移除所有指示点的active状态
      for (let i = 0; i < dots.length; i++) {
        dots[i].classList.remove("active");
      }

      // 显示当前图片并激活对应指示点
      slides[slideIndex].style.display = "block";
      dots[slideIndex].classList.add("active");

      // 清除之前的定时器再设置新的，防止速度叠加
      clearTimeout(timer);
      timer = setTimeout(() => {
        slideIndex++;
        showSlide(slideIndex);
      }, 4000); // 每4秒切换
    }

    // 手动切换按钮
    function changeSlide(n) {
      slideIndex += n;
      showSlide(slideIndex);
    }

    // 可访问性与交互增强
    const slideshow = document.querySelector('.slideshow-container');
    slideshow.addEventListener('mouseenter', () => clearTimeout(timer));
    slideshow.addEventListener('mouseleave', () => showSlide(slideIndex + 1));
    slideshow.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') { changeSlide(-1); }
      if (e.key === 'ArrowRight') { changeSlide(1); }
    });

    // 点击指示点切换
    function goToSlide(n) {
      slideIndex = n - 1;
      showSlide(slideIndex);
    }
  </script>

  <div class="wrap">
    <div class="ribbon">新中国近代史</div>

    <div class="grid">
      <!-- 左侧：正文 -->
      <section class="article">

        <p><b>新中国近代史通常指1949年中华人民共和国成立至今的历史，核心脉络是从站起
            来、富起来到强起来的伟大飞跃，关键阶段与事件如下：</b></p>
        <br>
        <p><b>1. 过渡与确立（1949-1978年）</b> 1949年新中国成立，彻底结束半殖民地半封建社会，实现民族独立和人民解放。
          1956年完成社会主义改造，确立社会主义基本制度，为发展奠定制度基础。
          这一时期虽经历曲折，但建成独立的工业体系和国民经济体系，国防（两弹一星）、科技等领域实现突破。</p>
        <br>
        <p><b>2. 改革开放与发展（1978-2012年）</b> 1978年十一届三中全会开启改革开放，以经济建设为中心，农村家庭联产承包责任制、城市经济体制改革相继推进。
          2001年加入WTO，深度融入全球经济，经济快速增长，成为世界第二大经济体。
          民生持续改善，基础设施建设提速，综合国力显著提升。</p>
        <br>
        <p><b>3. 新时代与复兴（2012年至今）</b>进入中国特色社会主义新时代，聚焦高质量发展，脱贫攻坚、全面建成小康社会目标如期实现。
          科技自立自强成果丰硕（高铁、5G、航天、新能源等），生态文明建设深入推进，国家治理体系和治理能力现代化持续提升。
          坚定维护国家主权、安全、发展利益，积极参与全球治理，迈向民族复兴新征程。</p>
      </section>

      <!-- 右侧：配图 -->
      <aside>
        <div class="photo">
          <img src="bz.jpg" alt="强国复兴有我" />
        </div>
      </aside>
    </div>
  </div>
  <div class="header">新中国成就</div>
  <div class="card-container">
    <div class="card">
      <img src="wnjh.jpg" alt="1953年实施第一个五年计划" loading="lazy">
      <div class="card-content">
        <h3>1953年实施第一个五年计划</h3>
        <p>受朝鲜战争影响，加之保障国家安全需要，我国优先发展重工业，实行赶超经济发达国家...</p>
      </div>
    </div>

    <div class="card">
      <img src="qdbz.jpg" alt="1967年第一颗氢弹爆炸成功" loading="lazy">
      <div class="card-content">
        <h3>1967年第一颗氢弹爆炸成功</h3>
        <p>1967年6月17日,中国第一颗氢弹爆炸成功,这标志着中国在核武器研发方面取得了重大突破...</p>
      </div>
    </div>

    <div class="card">
      <img src="smzz.jpg" alt="2001年加入世界贸易组织" loading="lazy">
      <div class="card-content">
        <h3>2001年加入世界贸易组织</h3>
        <p>2001年12月11日，中国正式成为世贸组织第143名成员,，这是中国深度融入世界经济的重要里程碑...</p>
      </div>
    </div>

    <div class="card">
      <img src="fjj.jpg" alt="2022年福建舰下水" loading="lazy">
      <div class="card-content">
        <h3> 2022年"福建舰"下水</h3>
        <p>2022年6月17日，中国第一艘完全自主设计建造的航母"福建舰"下水，这是中国海军发展史上的重要事件...</p>
      </div>
    </div>
  </div>
  </div>

  <!-- 页尾 -->
  <footer>
    <p>© 2025 甘肃农业大学红色网页设计团队 | 保留所有权利</p>
  </footer>

  <script>
    (function () {
      const PAGES = ["index.html", "history.html", "heroes.html", "hsjs.html", "gywm.html"];

      function getSearchBox() {
        const box = document.querySelector('header .search-box');
        if (!box) return {};
        return { input: box.querySelector('input'), button: box.querySelector('button') };
      }

      function removeMarks() {
        document.querySelectorAll('mark.__page_search_mark').forEach(m => {
          const p = m.parentNode; if (!p) return; p.replaceChild(document.createTextNode(m.textContent), m); p.normalize();
        });
      }

      function isSkippable(node) {
        if (!node || node.nodeType !== 1) return false;
        const t = node.tagName.toLowerCase();
        return t === 'script' || t === 'style' || t === 'nav' || t === 'header' || t === 'footer';
      }

      function highlightNth(term, targetIndex) {
        removeMarks(); if (!term) return false; const lc = term.toLowerCase();
        const walker = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, {
          acceptNode(n) {
            const p = n.parentElement; if (!p || isSkippable(p)) return NodeFilter.FILTER_REJECT;
            const s = window.getComputedStyle(p); if (s.display === 'none' || s.visibility === 'hidden') return NodeFilter.FILTER_REJECT;
            return n.textContent.trim() ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_REJECT;
          }
        });
        let node; let count = 0; while ((node = walker.nextNode())) {
          const text = node.textContent; const idx = text.toLowerCase().indexOf(lc);
          if (idx !== -1) {
            if (count === (targetIndex || 0)) {
              const r = document.createRange(); r.setStart(node, idx); r.setEnd(node, idx + term.length);
              const mark = document.createElement('mark'); mark.className = '__page_search_mark';
              r.surroundContents(mark); mark.scrollIntoView({ behavior: 'smooth', block: 'center' });
              return true;
            }
            count++;
          }
        }
        return false;
      }

      async function findAcrossPages(term) {
        const current = location.pathname.split('/').pop() || 'index.html';
        if (highlightNth(term, 0)) return true;
        const pages = PAGES.filter(p => p !== current);
        if (location.protocol === 'file:') {
          if (pages.length) {
            const params = new URLSearchParams();
            params.set('q', term);
            params.set('p', pages.join(','));
            params.set('i', '0');
            location.href = pages[0] + '?' + params.toString();
            return true;
          }
          return false;
        }
        for (const page of pages) {
          try {
            const res = await fetch(page, { cache: 'no-store' });
            const txt = await res.text();
            if (txt.toLowerCase().includes(term.toLowerCase())) {
              location.href = page + '?q=' + encodeURIComponent(term);
              return true;
            }
          } catch (e) { }
        }
        return false;
      }

      function readQuery(name) {
        const m = new URLSearchParams(location.search).get(name); return m ? decodeURIComponent(m) : '';
      }

      function attach() {
        const { input, button } = getSearchBox(); if (!input || !button) return;
        const STATE_KEY = '__site_search_state';
        async function doSearch() {
          const term = (input.value || '').trim(); if (!term) return;
          let state = {}; try { state = JSON.parse(sessionStorage.getItem(STATE_KEY) || '{}'); } catch (e) { }
          let k = 0;
          if (state.term === term && state.page === location.pathname) { k = (state.k || 0) + 1; }
          if (highlightNth(term, k)) {
            sessionStorage.setItem(STATE_KEY, JSON.stringify({ term, page: location.pathname, k }));
            return;
          }
          const ok = await findAcrossPages(term);
          if (!ok) { button.classList.add('shake'); setTimeout(() => button.classList.remove('shake'), 350); }
        }
        button.addEventListener('click', (e) => { e.preventDefault(); doSearch(); });
        input.addEventListener('keydown', (e) => { if (e.key === 'Enter') { e.preventDefault(); doSearch(); } });
        const qs = new URLSearchParams(location.search);
        const q = readQuery('q');
        if (q) {
          const kParam = parseInt(qs.get('k') || '0', 10);
          const found = highlightNth(q, isNaN(kParam) ? 0 : kParam);
          sessionStorage.setItem(STATE_KEY, JSON.stringify({ term: q, page: location.pathname, k: isNaN(kParam) ? 0 : kParam }));
          if (!found) {
            const pStr = qs.get('p') || '';
            const iStr = qs.get('i') || '0';
            if (pStr) {
              const arr = pStr.split(',').filter(Boolean);
              let idx = parseInt(iStr, 10); idx = isNaN(idx) ? 0 : idx; idx++;
              if (idx < arr.length) {
                const params = new URLSearchParams();
                params.set('q', q); params.set('k', '0'); params.set('p', pStr); params.set('i', String(idx));
                location.href = arr[idx] + '?' + params.toString();
              }
            }
          }
        }
      }

      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', attach); else attach();
    })();
  </script>
</body>

</html>

